// SPDX-License-Identifier: GPL-3.0-only
//
// DO NOT EDIT!
//
// Generated from string_case_compare.windows.h.in
//
#pragma once

#include <algorithm>
#include <cstring>
#include <cctype>

// case independent version of std::strncmp
inline int string_case_compare(char const *s, char const *t, std::size_t ct)
{
    for (; *t && (std::tolower(*s) == std::tolower(*t)) && ct > 0 ; --ct, s++, t++)
    {
        // first string exausted, equal prefix is less
        if (*s == '\0')
        {
            return -1;
        }
    }
    if (ct == 0)
    {
        // both strings equal
        return 0;
    }
    if (!*t)
    {
        // second string exhausted, equal prefix is greater
        return 1;
    }
    // difference character
    return std::tolower(*s) - std::tolower(*t);
}

inline int string_case_compare(const char *s, const char *t)
{
    while (*s && *t && std::tolower(*s) == std::tolower(*t))
    {
        ++s;
        ++t;
    }
    if (!*s)
    {
        // first string exhausted, equal prefix
        return 0;
    }
    // difference character
    return std::tolower(*s) - std::tolower(*t);
}
